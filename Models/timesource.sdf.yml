---
info: 
  title: ObjectFlow models common definitions 
  version: 2022-03-25
  copyright: "Copyright 2021, 2022 Michael J. Koster. All rights reserved."
  license: "https://github.com/one-data-model/oneDM/blob/master/LICENSE"

namespace: objectflow: https://onedm.org/objectflow

defaultnamespace: objectflow

sdfObject:
  # Timer Source Object
  TimeSource:
    sdfRef: /#/sdfObject/ObjectFlowObject
    TypeID: 43000

    # Timer Source Object Resources
    sdfObject:
      InputTime:
        sdfRef: /#/sdfObject/ObjectFlowObject/sdfObject/InputValue
        ValueType:
          sdfRef: /#/sdfData/ValueType/sdfChoice/TimeType

      OutputTime:
        sdfRef: /#/sdfObject/ObjectFlowObject/sdfObject/OutputValue
        ValueType:
          sdfRef: /#/sdfData/ValueType/sdfChoice/TimeType

      CurrentTime:
        sdfRef: /#/sdfObject/ObjectFlowObject/sdfObject/CurrentTime
 
      IntervalTime:
        sdfRef: /#/sdfObject/ObjectFlowObject/sdfObject/IntervalTime

      LastActivationTime:
        sdfRef: /#/sdfObject/ObjectFlowObject/sdfObject/LastActivationTime

      TimerLinks:
        sdfRef: /#/sdfObject/ObjectFlowObject/sdfObject/OutputLink

  sdfAction:
    onUpdateDefaultValue: Divide the InputValue by the time base and update CurrentTime, then perform the interval check and conditionally update the outputvalue and lastActivationTime, and finally call SyncToCurrentTime